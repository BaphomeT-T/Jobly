<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <base href="/">
  <title>Home Postulantes - Jobly</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/static/auth.js" defer></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@500;600&display=swap" rel="stylesheet">
  <style>
    body { font-family:'Poppins',sans-serif; }
    .tab-active p { color:#f23e8e; font-weight:600; }
    .tab-active .underline { height:3px; background:#f23e8e; width:100%; border-radius:2px; }
  </style>
</head>
<body class="bg-[#fbfcfb] min-h-screen font-[Poppins,sans-serif] overflow-x-hidden">
  <!-- Header (alineado con home-empresa) -->
  <header class="flex items-center justify-between px-[32px] pl-[32px] pr-[108px] pt-[24px] pb-[16px] border-b border-[#e5eae8] h-[86px] bg-white">
    <a href="/home-postulantes" class="block h-[62px] w-[172px]">
      <img src="/static/images/logo-login.png" alt="Jobly Logo" class="h-full w-full object-contain"
           onerror="this.onerror=null; this.src='data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27172%27 height=%2762%27%3E%3Crect width=%27172%27 height=%2762%27 fill=%27%23f23e8e%27/%3E%3Ctext x=%2750%25%27 y=%2750%25%27 dominant-baseline=%27middle%27 text-anchor=%27middle%27 fill=%27white%27 font-family=%27Arial%27 font-size=%2720%27%3EJobly%3C/text%3E%3C/svg%3E'" />
    </a>
    <div class="flex-1"></div>
    <div class="flex items-center gap-6">
      <!-- Help Icon -->
      <svg class="w-6 h-6 cursor-pointer" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="10" stroke="#141514" stroke-width="1.5"/>
        <path d="M9.09 9C9.325 8.33 9.835 7.81 10.5 7.57C11.165 7.33 11.903 7.39 12.516 7.74C13.129 8.09 13.563 8.69 13.72 9.38C13.877 10.07 13.745 10.79 13.35 11.38C12.955 11.97 12.33 12.38 11.62 12.51V13.5" stroke="#141514" stroke-linecap="round"/>
        <circle cx="12" cy="17" r="1" fill="#141514"/>
      </svg>
      <!-- Mail Icon -->
      <svg class="w-6 h-6 cursor-pointer" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="#141514" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M22 6L12 13L2 6" stroke="#141514" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <!-- Profile Icon (button to editar-perfil) -->
      <button id="profileBtn" aria-label="Perfil" class="w-6 h-6">
        <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" fill="#c89bfa"/>
          <circle cx="12" cy="10" r="3" fill="white"/>
          <path d="M6.168 18.849A6.5 6.5 0 0 1 12 15.5a6.5 6.5 0 0 1 5.832 3.349" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
      </button>
      <!-- Logout Button -->
      <button id="logoutBtn" class="border border-[#141514] text-[#141514] px-3 py-1 rounded-[24px] text-sm font-semibold hover:bg-[#141514] hover:text-white transition-colors">Cerrar sesión</button>
    </div>
  </header>

  <!-- Subheader Tabs -->
  <nav class="flex gap-[64px] items-end justify-center px-[108px] pt-[16px] pb-0 border-b border-[#e5eae8] h-[56px] bg-white relative">
    <div class="flex flex-col gap-[16px] items-center justify-end relative cursor-pointer" onclick="window.location.href='/ver-aplicaciones'">
      <p class="text-[#606261] text-[20px] font-medium leading-[1.2]">Buscar vacantes</p>
      <div class="h-0 underline w-full"></div>
    </div>
    <div class="flex flex-col gap-[16px] items-center justify-end relative cursor-pointer" onclick="window.location.href='/ver-postulaciones'">
      <p class="text-[#606261] text-[20px] font-medium leading-[1.2]">Ver postulaciones</p>
      <div class="h-0 underline w-full"></div>
    </div>
    <div class="flex flex-col gap-[14px] items-center justify-end relative tab-active">
      <p class="text-[20px] leading-[1]">Actividades</p>
      <div class="underline"></div>
    </div>
    <!-- Pattern decorations (reuse single asset) -->
    <div class="absolute bottom-0 left-[78px] top-0 w-[127px] opacity-10 pointer-events-none overflow-hidden">
      <img src="/static/images/pattern-login.png" alt="pattern" class="absolute h-[239%] left-[-5%] top-[-71%] w-[106%]" />
    </div>
    <div class="absolute bottom-0 left-[197px] top-0 w-[85px] opacity-10 pointer-events-none overflow-hidden">
      <img src="/static/images/pattern-login.png" alt="pattern" class="absolute h-[239%] left-[-6%] top-[-71%] w-[158%]" />
    </div>
    <div class="absolute bottom-0 right-[129px] top-0 w-[58px] opacity-10 pointer-events-none overflow-hidden">
      <img src="/static/images/pattern-login.png" alt="pattern" class="absolute h-[239%] left-[-59%] top-[-71%] w-[231%]" />
    </div>
    <div class="absolute bottom-0 right-0 top-0 w-[127px] opacity-10 pointer-events-none overflow-hidden">
      <img src="/static/images/pattern-login.png" alt="pattern" class="absolute h-[239%] left-[-5%] top-[-71%] w-[106%]" />
    </div>
  </nav>

  <!-- Main Content -->
  <main class="px-[85px] pt-[48px] flex flex-row gap-12">
    <section class="flex-1 max-w-[600px]">
      <h1 class="text-[40px] font-semibold text-black leading-[1.2] mb-14">Recent Activities</h1>
      <div class="bg-[#eff3f1] rounded-[4px] h-[252px] flex items-center justify-center">
        <div class="w-[512px] text-center flex flex-col gap-4">
          <p class="text-[24px] font-semibold text-black leading-[1.2]">No hay notificaciones</p>
          <p class="text-[16px] font-medium font-[Inter,sans-serif] leading-[1.9] text-[#606261]">Pronto estará la información de los postulantes y entrevistas.</p>
        </div>
      </div>
    </section>
    <aside class="flex-1 flex items-center justify-center relative">
      <!-- Illustration composed of layers (smaller size) -->
      <div class="w-[300px] h-[240px] relative">
        <img src="/static/images/registro1.png" alt="body" class="absolute left-0 top-[50%] -translate-y-[50%] w-full" />
      </div>
    </aside>
  </main>

  <!-- Footer -->
  <footer class="mt-24 border-t border-[#e5eae8] bg-white px-[108px] py-[24px] flex flex-col gap-8">
    <div class="flex justify-end">
      <div class="h-[67px] w-[186px]">
        <img src="/static/images/logo-login.png" alt="Jobly Logo" class="h-full w-full object-contain" />
      </div>
    </div>
    <div class="flex justify-center items-center gap-2 text-[12px] font-medium text-black/50">
      <span>Jobly Copyright</span>
      <img src="https://www.figma.com/api/mcp/asset/3f93c97c-298d-429d-828f-828701cfcb2a" alt="copyright" class="w-6 h-6" />
      <span>2025</span>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Ensure user is authenticated and role is Candidato
      if (window.currentUser && window.currentUser.rol !== 'Candidato') {
        // Redirect empresa users
        window.location.href = '/home-empresa';
      }
      document.getElementById('profileBtn')?.addEventListener('click', () => {
        window.location.href = '/editar-perfil';
      });
      document.getElementById('logoutBtn')?.addEventListener('click', async () => {
        try { await fetch('/api/logout', { method: 'POST' }); window.location.href = '/login'; } catch(e){}
      });
    });
  </script>
</body>
</html>
